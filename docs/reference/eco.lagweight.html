<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Obtention of a list of spatial weights for classes
defined by inter-individual distances or nearest-neighbors — eco.lagweight • EcoGenetics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">EcoGenetics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cran/EcoGenetics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Obtention of a list of spatial weights for classes
defined by inter-individual distances or nearest-neighbors</h1>
    </div>

    
    <p>This program returns a list of weights matrices (binary or
row-standardized), one for each spatial class. For a given maximum and minimum 
inter-individual distance (IID), the data can be partitioned in different ways. 
The program set as default the highest IID as the maximum, 
and the lowest as the minimum. 
These values can be changed with "smax" and "smin", respectively. 
Intervals may be generated with the parameters "int" (which divides the range 
each int distance units), "nclass" (which divides the range in n-classes) and "size" (a fixed
size of pairs included in each class). When a partition argument is not given (int, nclass or size) the program
determines the number of classes using the Sturge's rule (default) or 
the Freedman- Diaconis method. Two additional methods can be used:
a list with nearest-neighbors matrices, from 1 to k nearest-neighbors, may be generated
with the argument "kmax".
A custom vector with breaks may be provided by the user with the argument "seqvec".
See the examples.</p>
    

    <pre class="usage"><span class='fu'>eco.lagweight</span>(<span class='no'>XY</span>, <span class='kw'>int</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>smin</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>smax</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>kmax</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nclass</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>seqvec</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>bin</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"sturges"</span>, <span class='st'>"FD"</span>),
  <span class='kw'>cummulative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>row.sd</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>self</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>latlon</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>XY</th>
      <td><p>Matrix/data frame with projected coordinates.</p></td>
    </tr>
    <tr>
      <th>int</th>
      <td><p>Distance interval in the units of XY.</p></td>
    </tr>
    <tr>
      <th>smin</th>
      <td><p>Minimum class distance in the units of XY.</p></td>
    </tr>
    <tr>
      <th>smax</th>
      <td><p>Maximum class distance in the units of XY.</p></td>
    </tr>
    <tr>
      <th>kmax</th>
      <td><p>Number of nearest-neighbors.</p></td>
    </tr>
    <tr>
      <th>nclass</th>
      <td><p>Number of classes.</p></td>
    </tr>
    <tr>
      <th>seqvec</th>
      <td><p>Vector with breaks in the units of XY.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>Number of individuals per class.</p></td>
    </tr>
    <tr>
      <th>bin</th>
      <td><p>Rule for constructing intervals when a partition parameter (int, 
nclass or size) is not given. Default is Sturge's rule (Sturges, 1926). Other
option is Freedman-Diaconis method (Freedman and Diaconis, 1981).</p></td>
    </tr>
    <tr>
      <th>cummulative</th>
      <td><p>Logical. Should be created matrices considering cummulative
distances instead of discrete classes? Default FALSE.</p></td>
    </tr>
    <tr>
      <th>row.sd</th>
      <td><p>Logical. Should be row standardized each matrix? Default FALSE 
(binary weights).</p></td>
    </tr>
    <tr>
      <th>self</th>
      <td><p>Logical. Should be included a first matrix with ones in the diagonal and zeros
zeros in the other cells? Default FALSE.</p></td>
    </tr>
    <tr>
      <th>latlon</th>
      <td><p>Are the coordinates in decimal degrees format? Defalut FALSE. If TRUE,
the coordinates must be in a matrix/data frame with the longitude in the first
column and latitude in the second. The position is projected onto a plane in
meters with the function <code><a href='http://www.rdocumentation.org/packages/SoDA/topics/geoXY'>geoXY</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The program returns an object of class "eco.lagweight" with the following
slots:</p>
<p>&gt; PAR parameters used for the construction of breaks</p>
<p>&gt; PAR.VAL values of the parameters used for the construction of breaks</p>
<p>&gt; ROW.SD row standardization (logical)</p>
<p>&gt; SELF data self-included (logical)</p>
<p>&gt; W weights list</p>
<p>&gt; XY coordinates</p>
<p>&gt; MEAN mean class distances</p>
<p>&gt; LOGMEAN mean of the class distances logarithm</p>
<p>&gt; CARDINAL number of elements in each class</p>
<p>&gt; BREAKS breaks</p>
<p>&gt; METHOD breaks construction method</p>
<p><strong>ACCESS TO THE SLOTS</strong>
The content of the slots can be accessed 
with the corresponding accessors, using
the generic notation of EcoGenetics 
(&lt;ecoslot.&gt; + &lt;name of the slot&gt; + &lt;name of the object&gt;).
See help("EcoGenetics accessors") and the Examples
section below.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Freedman D., and P. Diaconis. 1981. On the histogram as a density estimator: 
L 2 theory. Probability theory and related fields, 57: 453-476.</p>
<p>Sturges  H. 1926. The choice of a class interval. Journal of the American 
Statistical Association, 21: 65-66.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>data</span>(<span class='no'>eco.test</span>)

<span class='co'># method sturges-smax: in this case, the program generates </span>
<span class='co'># classes using the Sturge's rule.  </span>
<span class='co'># As smax and smin are undefined, the program uses the default</span>
<span class='co'># options (smin = 0, and smax = maximum inter-individual distance)</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]])
<span class='no'>classlist</span>

<span class='co'># method sturges-smax: idem, but smax = 16</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>smax</span><span class='kw'>=</span><span class='fl'>16</span>)

<span class='co'>## using smax &lt;16 in this case generates empty classes, </span>
<span class='co'>## which is not allowed</span>

<span class='co'># method sturges-smax: idem, but smin = 3</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>smin</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>smax</span> <span class='kw'>=</span> <span class='fl'>15</span>)

<span class='co'># method sturges-smax: complete range, </span>
<span class='co'># and cummulative = TRUE (instead of using</span>
<span class='co'># lower and upper limits for each class, only the upper is used in turn)</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>cummulative</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># method n.classes-smax: complete range partitioned in 4 classes</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>nclass</span> <span class='kw'>=</span> <span class='fl'>4</span>)

<span class='co'># method n.classes-smax: idem, but smax =  15</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>nclass</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>smax</span> <span class='kw'>=</span> <span class='fl'>15</span>)

<span class='co'># method int-smax: the complete range partitioned each &lt;int&gt; units</span>
<span class='co'># of inter-individual distance</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>int</span> <span class='kw'>=</span> <span class='fl'>2</span>)

<span class='co'># method int-smax: idem, but smax = 15 and smin = 3</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>int</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>smin</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>smax</span> <span class='kw'>=</span> <span class='fl'>15</span>)

<span class='co'># method equal.size: n individuals in each class, </span>
<span class='co'># partitioning the complete range.</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1000</span>)

<span class='co'>## In the latter example, as an inter-individual distance</span>
<span class='co'>## appear more than one time (different individuals pairs, </span>
<span class='co'>## identical distances), with a size &lt;700 the limits</span>
<span class='co'>## of some classes cannot be defined, and this is not allowed</span>

<span class='co'># method equal.size: n individuals in each class, </span>
<span class='co'># but smax = 15</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>smax</span> <span class='kw'>=</span> <span class='fl'>15</span>)

<span class='co'># method kmax: sequence from k = 1 to k = n, in this case, n = 3</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>kmax</span> <span class='kw'>=</span> <span class='fl'>3</span>)

<span class='co'># method kmax: idem, but elements self-included</span>
<span class='co'># (i.e., the pairs i-i, for all individuals i, are included)</span>
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>kmax</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>self</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># method seqvec: a vector with the breaks is used</span>
<span class='no'>vec</span> <span class='kw'>&lt;-</span> <span class='fu'>seq</span>(<span class='fl'>0</span>, <span class='fl'>10</span>, <span class='fl'>2</span>)
<span class='no'>classlist</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.lagweight</span>(<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"XY"</span>]], <span class='kw'>seqvec</span> <span class='kw'>=</span> <span class='no'>vec</span>)

<span class='co'>#-----------------------</span>
<span class='co'># ACCESSORS USE EXAMPLE</span>
<span class='co'>#-----------------------</span>

<span class='co'># the slots are accessed with the generic format </span>
<span class='co'># (ecoslot. + name of the slot + name of the object). </span>
<span class='co'># See help("EcoGenetics accessors")</span>

<span class='fu'><a href='EcoGenetics-accessors.html'>ecoslot.BREAKS</a></span>(<span class='no'>classlist</span>) <span class='co'># information about breaks. It includes the upper and lower limits</span>

<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Leandro Roser <a href='mailto:learoser@gmail.com'>learoser@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Leandro Roser, Juan Vilardi, Beatriz Saidman, Laura Ferreyra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
