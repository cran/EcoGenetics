<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Formula construction for ecogen objects — eco.formula • EcoGenetics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">EcoGenetics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cran/EcoGenetics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Formula construction for ecogen objects</h1>
    </div>

    
    <p>When a data frame is present in a slot of an object, any individual column can be 
accessed using the notation: my_object@my_data_frame[, column_to_be_accessed]. The later constitutes an explicit 
name for the variable present in the object.  The present function generalizes this concept, 
allowing to construct a formula for the variables present in an ecogen object
(columns of the data frames in slots). The function creates an explicit formula that can be used
to parse ecogen objects into other functions (see examples below). For this purpose, each name in the 
formula is substituted with explicit names of columns if:</p>
<p>- The name corresponds to the name of an individual column in the data frames of the ecogen object, or</p>
<p>- The name is surrounded by U() and corresponds to the name of a slot. Complete data frames (as P, E, etc.) 
  or subsets (as U[, 1:5]) can be passed with this method and all the columns will be explicitly included in the formula.</p>  
<p>In other situations, names are not replaced.</p>
    

    <pre class="usage"><span class='fu'>eco.formula</span>(<span class='no'>eco</span>, <span class='no'>formula</span>, <span class='kw'>out.mode</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"formula"</span>, <span class='st'>"expression"</span>),
  <span class='kw'>expand.tables</span> <span class='kw'>=</span> <span class='st'>"+"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>eco</th>
      <td><p>Object of class "ecogen".</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>formula with names of colums from the slots XY, P, G, A, E, or C</p></td>
    </tr>
    <tr>
      <th>out.mode</th>
      <td><p>Output results explicit formula (default) or expression.</p></td>
    </tr>
    <tr>
      <th>expand.tables</th>
      <td><p>method for tables coertion. Default is "+"</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>require</span>(<span class='no'>vegan</span>)
<span class='fu'>data</span>(<span class='no'>eco.test</span>)

<span class='co'># Note that in this example "Condition" is not replaced; </span>
<span class='co'># the function Condition has a special meaning in rda,</span>
<span class='co'># indicating conditioning variables; in eco.formula it is only text.</span>

<span class='no'>form</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.formula</span>(<span class='no'>eco</span>, <span class='no'>P1</span> + <span class='no'>P2</span> + <span class='no'>P3</span> + <span class='fu'>U</span>(<span class='no'>A</span>) ~ <span class='no'>E1</span> + <span class='no'>E2</span> + <span class='fu'>Condition</span>(<span class='no'>X</span>+<span class='no'>Y</span>))
<span class='fu'><a href='http://www.rdocumentation.org/packages/vegan/topics/cca'>rda</a></span>(<span class='no'>form</span>)

<span class='no'>form2</span> <span class='kw'>&lt;-</span> <span class='fu'>eco.formula</span>(<span class='no'>eco</span>, <span class='no'>P1</span> + <span class='no'>P2</span> + <span class='no'>P3</span> + <span class='fu'>U</span>(<span class='no'>A</span>) ~ <span class='no'>E1</span> + <span class='no'>E2</span> + <span class='no'>X</span> + <span class='no'>Y</span>)
<span class='fu'>lm</span>(<span class='no'>form2</span>)


<span class='co'># parsing with magrittr</span>
<span class='fu'>eco.formula</span>(<span class='no'>eco</span>, <span class='no'>P1</span> + <span class='no'>P2</span> + <span class='no'>P3</span> + <span class='fu'>U</span>(<span class='no'>A</span>) ~ <span class='fu'>U</span>(<span class='no'>E</span>) + <span class='fu'>Condition</span>(<span class='no'>X</span>+<span class='no'>Y</span>)) <span class='kw'>%&gt;%</span> <span class='no'>rda</span>
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Leandro Roser <a href='mailto:learoser@gmail.com'>learoser@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Leandro Roser, Juan Vilardi, Beatriz Saidman, Laura Ferreyra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
