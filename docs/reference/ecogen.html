<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creating a new ecogen object — ecogen • EcoGenetics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">EcoGenetics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cran/EcoGenetics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creating a new ecogen object</h1>
    </div>

    
    <p>Creating a new ecogen object</p>
    

    <pre class="usage"><span class='fu'>ecogen</span>(<span class='kw'>XY</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(), <span class='kw'>P</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(), <span class='kw'>G</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(),
  <span class='kw'>E</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(), <span class='kw'>S</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(), <span class='kw'>C</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(),
  <span class='kw'>G.processed</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>order.G</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"codominant"</span>, <span class='st'>"dominant"</span>),
  <span class='kw'>ploidy</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>ncod</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>missing</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"0"</span>, <span class='st'>"NA"</span>, <span class='st'>"MEAN"</span>),
  <span class='kw'>NA.char</span> <span class='kw'>=</span> <span class='st'>"NA"</span>, <span class='kw'>poly.level</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>rm.empty.ind</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>order.df</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>set.names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>valid.names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>XY</th>
      <td><p>Data frame with m columns (coordinates) and n rows (individuals).</p></td>
    </tr>
    <tr>
      <th>P</th>
      <td><p>Data frame with n rows (individuals), and phenotypic data in columns.</p></td>
    </tr>
    <tr>
      <th>G</th>
      <td><p>Data of class: "data.frame", with individuals in rows and genotypic data 
in columns (loci). The ploidy and the type (codominant, dominant) of the data, 
must be passed with the arguments "ploidy" and "type". Missing data is coded as NA.
Dominant data must be coded with binary values (0 for absence - 1 for presence).</p></td>
    </tr>
    <tr>
      <th>E</th>
      <td><p>Data frame with n rows (individuals), and environmental data 
in columns.</p></td>
    </tr>
    <tr>
      <th>S</th>
      <td><p>Data frame with n rows (individuals), and groups (factors) in columns.
The program converts non-factor data into factor.</p></td>
    </tr>
    <tr>
      <th>C</th>
      <td><p>Data frame with n rows (individuals), and custom variables in columns.</p></td>
    </tr>
    <tr>
      <th>G.processed</th>
      <td><p>If TRUE, the slot G will include a processed data frame (
removed non informative loci (the data non available for all the individuals),
removed non polymorphic loci (for dominant data) and ordered alleles in ascending
order.</p></td>
    </tr>
    <tr>
      <th>order.G</th>
      <td><p>Genotypes must be ordered in G slot? (codominant data) 
Default FALSE.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Marker type: "codominant" or "dominant".</p></td>
    </tr>
    <tr>
      <th>ploidy</th>
      <td><p>Ploidy of the G data frame. Default ploidy = 2.</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>Character separating alleles (codominant data). 
Default option is no character separating alleles.</p></td>
    </tr>
    <tr>
      <th>ncod</th>
      <td><p>Number of characters coding each allele (codominant data).</p></td>
    </tr>
    <tr>
      <th>missing</th>
      <td><p>Missing data treatment ("0", "NA", or "MEAN") for the A
slot. Missing elements are set to 0 in the default option. missing elements
are recoded as "NA" or the mean allelic frequency across individuals in "NA" 
and "MEAN" options, respectively.</p></td>
    </tr>
    <tr>
      <th>NA.char</th>
      <td><p>Character simbolizing missing data in the input. Default is "NA".</p></td>
    </tr>
    <tr>
      <th>poly.level</th>
      <td><p>Polymorphism threshold in percentage (0 - 100), 
for remotion of non polymorphic loci (for dominant data). Default is 5 (5%).</p></td>
    </tr>
    <tr>
      <th>rm.empty.ind</th>
      <td><p>Remotion of noinformtive individuals (row of "NAs").
Default if FALSE.</p></td>
    </tr>
    <tr>
      <th>order.df</th>
      <td><p>Order individuals of data frames by row? (all data frames with a same order in row names).
 This 
option works when the names of the data frames are used 
(i.e., set.names and valid.names are NULL), otherwise the TRUE/FALSE value of this parameter
 has no effect in the function. 
Defalut TRUE. If FALSE, the row names of all the data frames must be ordered. The use of data frames 
with row names in different order will return an error.
In both cases, the program sets an internal names attribute of the object
using the row names of the first non-empty data frame found in the following order: 
XY, P, G, E, S, C. This attribute is used as reference to order rows when order.df = TRUE.</p></td>
    </tr>
    <tr>
      <th>set.names</th>
      <td><p>Character vector with names for the rows of the non-empty data frames. 
This argument is incompatible with valid.names</p></td>
    </tr>
    <tr>
      <th>valid.names</th>
      <td><p>Logical. Create valid row names? This argument is incompatible with 
set.names. The program will name individuals with valid tags I.1, I.2, etc.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is a generic function for creation of ecogen objects.
In the default option, missing data should be coded as "NA", but any missing 
data character can be passed with the option NA.char. 
In all the cases, the new object will have a slot G coding the missing data as NA. 
For dominant markers (0/1 coding), the slot A is unnecesary an it is treated
by ecogen methods as a symbolic link to G.</p>
<p><strong>ACCESS TO THE SLOTS. MODIFICATION OF ECOGEN OBJECTS</strong></p>
<p>The content of the slots can be extracted with the corresponding accessors
ecoslot.XY, ecoslot.P, ecoslot.G, ecoslot.A, ecoslot.E, ecoslot.C and ecoslot.OUT. 
Accessors can be also used to assign data to the slots.
The correct use of ecogen objects requires the implementation of accessors, 
as they ensure the checking and pre-processing of the data. The use of accessors allows to
modify or fill the slots of ecogen objects, without the need of creating a new
object each time. See <em>help("EcoGenetics accessors")</em> for a detailed description 
and examples about ecogen accessors.
    <strong>OTHER SLOT ACCESS METHODS FOR ECOGEN OBJECTS</strong></p>
<p>The use of brackets is defined for ecogen objects:</p>
<p>- Single bracket: the single bracket ("[") is used to subset all the ecogen
 data frames (P, G, E, S, A and C) by row, at once. The notation for an object
 is eco[from:to], where eco is any ecogen object, and from: to is the row
 range. For example: eco[1:10] , subsets the object eco from row 1 to row 10, 
 for all the data frames at once.</p> 
<p>- Double square brackets: the double square brackets are symbolic abbreviations 
of the accessors (i.e., it is a call to the corresponding accessor). 
The usage is: eco[["X"]], where X is a slot: eco[["P"]], 
eco[["G"]], eco[["A"]], eco[["E"]], eco[["S"]], eco[["C"]] and eco[["OUT"]].
Double square brackets can be used in get/set mode. 
See Examples below and in help("EcoGenetics accessors").</p>
<p><b>ABOUT THE CONSTRUCTION OF NEW ECOGEN OBJECTS</b></p>
<p>A new ecogen object can be constructed in two different ways. 
First, a new object can be created, incorporating all the information 
at once. Second, the data can be added in each slot, using the corresponding
accessor / "[[". Accessor/double square brackets methods allow temporal modification 
of any ecogen object and ensure the modularity of this kind of objets. 
These methods are not only functions used to get/assign values to the slots, 
they provide a basic pre-processing of the data during assignment, 
generating a coherent and valid set of information.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># Example with G data of class "data.frame", corresponding to</span>
<span class='co'># microsatellites of a diploid organism:</span>
<span class='fu'>data</span>(<span class='no'>eco.test</span>)
<span class='no'>eco</span> <span class='kw'>&lt;-</span> <span class='fu'>ecogen</span>(<span class='kw'>XY</span> <span class='kw'>=</span> <span class='no'>coordinates</span>, <span class='kw'>P</span> <span class='kw'>=</span> <span class='no'>phenotype</span>, <span class='kw'>G</span> <span class='kw'>=</span> <span class='no'>genotype</span>,
<span class='kw'>E</span> <span class='kw'>=</span> <span class='no'>environment</span>, <span class='kw'>S</span> <span class='kw'>=</span> <span class='no'>structure</span>)

<span class='co'># Example with G data of class "data.frame", corresponding to a</span>
<span class='co'># presence - absence molecular marker:</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>1</span>),<span class='fl'>100</span>,<span class='kw'>rep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='fu'>matrix</span>(<span class='no'>dat</span>,<span class='fl'>10</span>,<span class='fl'>10</span>))
<span class='no'>eco</span> <span class='kw'>&lt;-</span> <span class='fu'>ecogen</span>(<span class='kw'>G</span> <span class='kw'>=</span> <span class='no'>dat</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"dominant"</span>)


<span class='co'># DINAMIC ASSIGNMENT WITH ACCESSORS AND "[["</span>

<span class='no'>eco</span> <span class='kw'>&lt;-</span> <span class='fu'>ecogen</span>(<span class='kw'>XY</span> <span class='kw'>=</span> <span class='no'>coordinates</span>, <span class='kw'>P</span> <span class='kw'>=</span> <span class='no'>phenotype</span>)
<span class='no'>eco</span>

<span class='fu'><a href='EcoGenetics-accessors.html'>ecoslot.G</a></span>(<span class='no'>eco</span>, <span class='kw'>order.G</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='kw'>&lt;-</span> <span class='no'>genotype</span>

<span class='co'># this is identical to</span>
<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"G"</span>, <span class='kw'>order.G</span><span class='kw'>=</span><span class='fl'>TRUE</span>]] <span class='kw'>&lt;-</span> <span class='no'>genotype</span>

<span class='fu'><a href='EcoGenetics-accessors.html'>ecoslot.E</a></span>(<span class='no'>eco</span>) <span class='kw'>&lt;-</span> <span class='no'>environment</span>

<span class='co'># this is identical to</span>
<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"E"</span>]] <span class='kw'>&lt;-</span> <span class='no'>environment</span>

<span class='co'>#----------------------------------------------------------</span>
<span class='co'># See additional examples in help("EcoGenetics accessors")</span>
<span class='co'>#----------------------------------------------------------</span>

<span class='co'># Storing data in the slot OUT</span>

 <span class='no'>singers</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"carlos_gardel"</span>, <span class='st'>"billie_holiday"</span>)

<span class='fu'><a href='EcoGenetics-accessors.html'>ecoslot.OUT</a></span>(<span class='no'>eco</span>) <span class='kw'>&lt;-</span> <span class='no'>singers</span>

<span class='co'># Storing several datasets</span>

<span class='no'>golden.number</span> <span class='kw'>&lt;-</span> (<span class='fu'>sqrt</span>(<span class='fl'>5</span>) + <span class='fl'>1</span>) / <span class='fl'>2</span>
<span class='fu'><a href='EcoGenetics-accessors.html'>ecoslot.OUT</a></span>(<span class='no'>eco</span>) <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='no'>singers</span>, <span class='no'>golden.number</span>)    <span class='co'># several objects must be passed as a list</span>

<span class='co'># this is identical to:</span>

<span class='no'>eco</span><span class='kw'>[[</span><span class='st'>"OUT"</span>]] <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='no'>singers</span>, <span class='no'>golden.number</span>)

<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Leandro Roser <a href='mailto:leandroroser@ege.fcen.uba.ar'>leandroroser@ege.fcen.uba.ar</a>

Leandro Roser <a href='mailto:learoser@gmail.com'>learoser@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Leandro Roser, Juan Vilardi, Beatriz Saidman, Laura Ferreyra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
