<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Postprocessing for NDVI and MSAVI2 temporal series of Landsat 5 and 7 — eco.NDVI.post • EcoGenetics</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">EcoGenetics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cran/EcoGenetics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Postprocessing for NDVI and MSAVI2 temporal series of Landsat 5 and 7</h1>
    </div>

    
    <p>This program must be used sequentially after <code><a href='eco.NDVI.html'>eco.NDVI</a></code>.
The inputs required (tab, correct, method) are the same described
and used in that function. The algorithm stacks the images and save
the stack into the working directory with the name "time.tif". 
If the user wishes, the program can also compute images consisting in the
max, min, mean and var for each pixel across the temporal sequence. Default is "mean".</p>
    

    <pre class="usage"><span class='fu'>eco.NDVI.post</span>(<span class='no'>tab</span>, <span class='kw'>correct</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"COST"</span>, <span class='st'>"DOS"</span>), <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"NDVI"</span>, <span class='st'>"MSAVI2"</span>),
  <span class='kw'>datatype</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"FLT4S"</span>, <span class='st'>"FLT8S"</span>, <span class='st'>"INT4U"</span>, <span class='st'>"INT4S"</span>, <span class='st'>"INT2U"</span>, <span class='st'>"INT2S"</span>, <span class='st'>"INT1U"</span>,
  <span class='st'>"INT1S"</span>, <span class='st'>"LOG1S"</span>), <span class='kw'>what</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"mean"</span>, <span class='st'>"max"</span>, <span class='st'>"min"</span>, <span class='st'>"var"</span>, <span class='st'>"none"</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tab</th>
      <td><p>Table used with <code><a href='eco.NDVI.html'>eco.NDVI</a></code>.</p></td>
    </tr>
    <tr>
      <th>correct</th>
      <td><p>Correction method used in <code><a href='eco.NDVI.html'>eco.NDVI</a></code>.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The vegetation index used in <code><a href='eco.NDVI.html'>eco.NDVI</a></code>.</p></td>
    </tr>
    <tr>
      <th>datatype</th>
      <td><p>Type of data, see <code><a href='http://www.rdocumentation.org/packages/raster/topics/dataType'>dataType</a></code>. 
Default "FLT4S".</p></td>
    </tr>
    <tr>
      <th>what</th>
      <td><p>Functions to apply over the created stack. 
The allowed values are: "none", "max", "min", "mean" and "var".
The functions are implemented with <code><a href='http://www.rdocumentation.org/packages/raster/topics/calc'>calc</a></code>.
For passing more than one function as argument, the following
syntax must be used: c("fun_1", "fun_2", "fun_i"), where fun_1...fun_n are
the functions that you want to compute.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Chander G., B. Markham, and D. Helder. 2009. Summary of current radiometric calibration 
coefficients for Landsat MSS, TM, ETM+, and EO-1 ALI sensors. Remote sensing of 
environment, 113: 893-903.</p>
<p>Chavez P. 1989. Radiometric calibration of Landsat Thematic Mapper multispectral images. 
Photogrammetric Engineering and Remote Sensing, 55: 1285-1294.</p>
<p>Chavez P. 1996. Image-based atmospheric corrections-revisited and improved. 
Photogrammetric engineering and remote sensing, 62: 1025-1035.</p>
<p>Goslee S. 2011. Analyzing remote sensing data in R: the landsat package. 
Journal of Statistical Software, 43: 1-25.</p>
<p>Song C., C. Woodcock, K. Seto, M. Lenney and S. Macomber. 2001. 
Classification and change detection using Landsat TM data: when and how to correct 
atmospheric effects?. Remote sensing of Environment, 75: 230-244.</p>
<p>Tucker C. 1979. Red and photographic infrared linear combinations for monitoring 
vegetation. Remote sensing of Environment, 8: 127-150.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>eco.NDVI</p>
<p>extract</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>require</span>(<span class='no'>raster</span>)

<span class='fu'>data</span>(<span class='no'>tab</span>)
<span class='fu'>data</span>(<span class='no'>eco3</span>)
<span class='no'>temp</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>()

<span class='co'># we create 4 simulated rasters for the data included in the object tab:</span>

<span class='kw'>for</span>(<span class='no'>i</span> <span class='kw'>in</span> <span class='fl'>1</span>:<span class='fl'>4</span>) {
<span class='no'>temp</span><span class='kw'>[[</span><span class='no'>i</span>]] <span class='kw'>&lt;-</span> <span class='fu'>runif</span>(<span class='fl'>19800</span>, <span class='fl'>0</span>, <span class='fl'>254</span>)
<span class='no'>temp</span><span class='kw'>[[</span><span class='no'>i</span>]] <span class='kw'>&lt;-</span> <span class='fu'>matrix</span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='fl'>180</span>, <span class='fl'>110</span>)
<span class='no'>temp</span><span class='kw'>[[</span><span class='no'>i</span>]] <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='no'>i</span>]], <span class='kw'>crs</span><span class='kw'>=</span><span class='st'>"+proj=utm"</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/extent'>extent</a></span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='no'>i</span>]])<span class='kw'>&lt;-</span><span class='fu'>c</span>(<span class='fl'>3770000</span>, <span class='fl'>3950000</span>, <span class='fl'>6810000</span>, <span class='fl'>6920000</span>)
}

<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/writeRaster'>writeRaster</a></span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='fl'>1</span>]], <span class='st'>"20040719b4.tif"</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='no'>T</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/writeRaster'>writeRaster</a></span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='fl'>2</span>]], <span class='st'>"20040719b3.tif"</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='no'>T</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/writeRaster'>writeRaster</a></span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='fl'>3</span>]], <span class='st'>"20091106b4.tif"</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='no'>T</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/writeRaster'>writeRaster</a></span>(<span class='no'>temp</span><span class='kw'>[[</span><span class='fl'>4</span>]], <span class='st'>"20091106b3.tif"</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='no'>T</span>)

<span class='co'># Computing NDVI images: </span>

<span class='fu'><a href='eco.NDVI.html'>eco.NDVI</a></span>(<span class='no'>tab</span>, <span class='st'>"COST"</span>, <span class='st'>"NDVI"</span>, <span class='st'>"LT5"</span>)

<span class='co'># Mean NDVI image computed over the NDVI images that we calculated:</span>

<span class='fu'>eco.NDVI.post</span>(<span class='no'>tab</span>, <span class='st'>"COST"</span>, <span class='st'>"NDVI"</span>, <span class='kw'>what</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"mean"</span>, <span class='st'>"var"</span>))
<span class='no'>mean.ndvi</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='st'>"NDVI.COST.mean.tif"</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='no'>mean.ndvi</span>)

<span class='co'># Extraction of the mean NDVI for each point in the object eco and plot</span>
<span class='co'># of the data:</span>

<span class='no'>ndvi</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/extract'>extract</a></span>(<span class='no'>mean.ndvi</span>, <span class='no'>eco3</span><span class='kw'>[[</span><span class='st'>"XY"</span>]])
<span class='no'>ndvi</span><span class='kw'>&lt;-</span> <span class='fu'><a href='aue.rescale.html'>aue.rescale</a></span>(<span class='no'>ndvi</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='no'>eco3</span><span class='kw'>[[</span><span class='st'>"XY"</span>]][, <span class='fl'>1</span>], <span class='no'>eco3</span><span class='kw'>[[</span><span class='st'>"XY"</span>]][, <span class='fl'>2</span>], <span class='kw'>col</span><span class='kw'>=</span><span class='fu'>rgb</span>(<span class='no'>ndvi</span>, <span class='fl'>0</span>, <span class='fl'>0</span>),
<span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>15</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Mean NDVI"</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"X"</span>, <span class='kw'>ylab</span>  <span class='kw'>=</span> <span class='st'>"Y"</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Leandro Roser <a href='mailto:learoser@gmail.com'>learoser@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Leandro Roser, Juan Vilardi, Beatriz Saidman, Laura Ferreyra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
